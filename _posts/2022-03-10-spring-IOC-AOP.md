---
layout: mypost
title: spring-IOC-AOP
categories: [Spring]
---

# IOC

IoC(Inverse of Control:控制反转) 的思想就是将原本在程序中手动创建对象的控制权，交由 Spring 框架来管理。

在 Spring 中， IoC 容器是 Spring 用来实现 IoC 的载体， IoC 容器实际上就是个 Map（key，value），Map 中存放的是各种对象。

补充：对控制反转的理解：

举个例子“对象A依赖了对象B，当对象A需要使用对象B的时候必须自己去创建。但是当系统引入了IOC容器后，对象A和对象B之前就失去了直接的联系。这个时候，当对象A需要使用对象B的时候，我们可以指定IOC容器去创建一个对象B注入到对象A中”。对象A获得对象B的过程，由主动行为变成了被动行为，控制权实现了反转，这就是控制反转名字的由来。DI（Dependency Inject）依赖注入实现控制反转的的一种实现方式，依赖注入就是将实例变量传入到一个对象中去。

IOC是依赖倒置原则的体现，依赖倒置原则：**高层模块不应该依赖低层模块，二者都应该依赖其抽象。**

例子：货币

# AOP

AOP：Aspect oriented programming 面向切面编程，AOP 是 OOP（面向对象编程）的一种延续。能够将那些与业务无关，却为业务模块所共同调用的逻辑或责任（例如事务处理、日志管理、权限控制等）封装起来，便于减少系统的重复代码，降低模块间的耦合度，并有利于未来的可拓展性和可维护性。

Spring AOP 就是基于动态代理的，如果要代理的对象，实现了某个接口，那么 Spring AOP 会使用 **JDK Proxy**，去创建代理对象，而对于没有实现接口的对象，就无法使用 JDK Proxy 去进行代理了，这时候 Spring AOP 会使用 **Cglib** 生成一个被代理对象的子类来作为代理。



